# 7장 연산자

연산자는 하나 이상의 표현식을 대상으로 연산을 수행하여 하나의 값을 만든다.

## 7.1 산술 연산자

- 수학적 계산을 수행해 새로운 숫자 값을 만듦
- 계산이 불가능한 경우 `NaN` 반환

### 7.1.1 이항 산술 연산자

- 2개의 피연산자를 대상으로 연산
- **피연산자의 값을 변경하지 않고** 언제나 새로운 값을 생성 (부수효과 없음)

| 연산자 | 의미 | 예시 |
|--------|------|------|
| `+` | 덧셈 | `5 + 2` → `7` |
| `-` | 뺄셈 | `5 - 2` → `3` |
| `*` | 곱셈 | `5 * 2` → `10` |
| `/` | 나눗셈 | `5 / 2` → `2.5` |
| `%` | 나머지 | `5 % 2` → `1` |

### 7.1.2 단항 산술 연산자

- 1개의 피연산자를 대상으로 연산
- `++`, `--`는 **피연산자의 값을 변경하는 부수효과**가 있음

| 연산자 | 의미 | 부수효과 |
|--------|------|----------|
| `++` | 증가 | O |
| `--` | 감소 | O |
| `+` | 숫자 타입 변환 | X |
| `-` | 부호 반전 | X |

```javascript
var x = 5, result;

// 후위 증가: 선할당 후증가
result = x++;  // result = 5, x = 6

// 전위 증가: 선증가 후할당
result = ++x;  // result = 7, x = 7
```

**`+` 단항 연산자** - 숫자 타입으로 변환 (원본 변경 X)

```javascript
console.log(+'1');      // 1 (문자열 → 숫자)
console.log(+true);     // 1 (불리언 → 숫자)
console.log(+'Hello');  // NaN
```

**`-` 단항 연산자** - 부호 반전

```javascript
console.log(-(-10));  // 10
console.log(-'10');   // -10
console.log(-true);   // -1
```

### 7.1.3 문자열 연결 연산자

`+` 연산자는 피연산자 중 하나 이상이 문자열이면 **문자열 연결 연산자**로 동작

```javascript
'1' + 2;        // '12' (문자열 연결)
1 + 2;          // 3 (숫자 덧셈)
1 + true;       // 2 (true → 1)
1 + false;      // 1 (false → 0)
1 + null;       // 1 (null → 0)
1 + undefined;  // NaN
```

> **암묵적 타입 변환(타입 강제 변환)**: JS 엔진이 자동으로 타입을 변환하는 것

## 7.2 할당 연산자

우항의 평가 결과를 좌항의 변수에 할당 (부수효과 O)

| 연산자 | 예시 | 동일 표현 |
|--------|------|-----------|
| `=` | `x = 5` | `x = 5` |
| `+=` | `x += 5` | `x = x + 5` |
| `-=` | `x -= 5` | `x = x - 5` |
| `*=` | `x *= 5` | `x = x * 5` |
| `/=` | `x /= 5` | `x = x / 5` |
| `%=` | `x %= 5` | `x = x % 5` |

```javascript
var str = 'My name is ';
str += 'Lee';
console.log(str);  // 'My name is Lee'

// 할당문은 값으로 평가되는 표현식
var a, b, c;
a = b = c = 0;
console.log(a, b, c);  // 0 0 0
```

## 7.3 비교 연산자

좌항과 우항을 비교하여 불리언 값 반환

### 7.3.1 동등/일치 비교 연산자

| 연산자 | 의미 | 설명 |
|--------|------|------|
| `==` | 동등 비교 | **값**이 같으면 true (타입 변환 O) |
| `===` | 일치 비교 | **값과 타입** 모두 같으면 true |
| `!=` | 부동등 비교 | 값이 다르면 true |
| `!==` | 불일치 비교 | 값 또는 타입이 다르면 true |

```javascript
5 == '5';   // true (타입 변환 후 비교)
5 === '5';  // false (타입이 다름)
```

> **권장**: `===` 일치 비교 연산자 사용

**주의사항**

```javascript
// NaN은 자신과 일치하지 않는 유일한 값
NaN === NaN;  // false
Number.isNaN(NaN);  // true (NaN 판별법)

// Object.is 메서드
-0 === +0;           // true
Object.is(-0, +0);   // false

NaN === NaN;           // false
Object.is(NaN, NaN);   // true
```

### 7.3.2 대소 관계 비교 연산자

| 연산자 | 예시 |
|--------|------|
| `>` | `x > y` |
| `<` | `x < y` |
| `>=` | `x >= y` |
| `<=` | `x <= y` |

## 7.4 삼항 조건 연산자

```
조건식 ? 참일 때 반환값 : 거짓일 때 반환값
```

```javascript
var x = 2;
var result = x % 2 ? '홀수' : '짝수';
console.log(result);  // '짝수'
```

> **if...else vs 삼항 연산자**: 삼항 연산자는 **값처럼 사용 가능** (표현식)

## 7.5 논리 연산자

| 연산자 | 의미 | 예시 |
|--------|------|------|
| `\|\|` | OR | `true \|\| false` → `true` |
| `&&` | AND | `true && false` → `false` |
| `!` | NOT | `!true` → `false` |

```javascript
// 드 모르간의 법칙
!(x || y) === (!x && !y)
!(x && y) === (!x || !y)
```

## 7.6 쉼표 연산자

왼쪽부터 차례로 평가하고 **마지막 평가 결과**를 반환

```javascript
var x, y, z;
x = 1, y = 2, z = 3;  // 3
```

## 7.7 그룹 연산자

`()`로 감싼 표현식을 **가장 먼저 평가** (우선순위 조절)

```javascript
10 * 2 + 3;    // 23
10 * (2 + 3);  // 50
```

## 7.8 typeof 연산자

피연산자의 데이터 타입을 **문자열**로 반환

```javascript
typeof ''           // 'string'
typeof 1            // 'number'
typeof NaN          // 'number'
typeof true         // 'boolean'
typeof undefined    // 'undefined'
typeof Symbol()     // 'symbol'
typeof null         // 'object' (버그, 주의!)
typeof []           // 'object'
typeof {}           // 'object'
typeof function(){} // 'function'
```

> **주의**: `null` 타입 확인은 `=== null` 사용

```javascript
var foo = null;
typeof foo === null;  // false
foo === null;         // true
```

선언하지 않은 식별자는 `ReferenceError` 대신 `undefined` 반환

## 7.9 지수 연산자

ES7에서 도입, 거듭제곱 계산

```javascript
2 ** 3;        // 8
2 ** 0;        // 1
Math.pow(2,3); // 8 (이전 방식)

// 음수는 괄호 필수
(-5) ** 2;     // 25
-5 ** 2;       // SyntaxError
```

## 7.10 그 외의 연산자

| 연산자 | 설명 |
|--------|------|
| `?.` | 옵셔널 체이닝 |
| `??` | null 병합 |
| `delete` | 프로퍼티 삭제 |
| `new` | 생성자 함수로 인스턴스 생성 |
| `instanceof` | 인스턴스 여부 판별 |
| `in` | 프로퍼티 존재 확인 |

## 7.11 연산자의 부수 효과

대부분의 연산자는 새로운 값을 생성할 뿐 **부수 효과가 없음**

**부수 효과가 있는 연산자**
- `=` (할당 연산자)
- `++` / `--` (증감 연산자)
- `delete` (삭제 연산자)

## 7.12 연산자 우선순위

| 우선순위 | 연산자 |
|----------|--------|
| 1 | `()` |
| 2 | `new`(인수), `.`, `[]`, `()`, `?.` |
| 3 | `new`(인수 없음) |
| 4 | `x++`, `x--` |
| 5 | `!`, `+x`, `-x`, `++x`, `--x`, `typeof`, `delete` |
| 6 | `**` |
| 7 | `*`, `/`, `%` |
| 8 | `+`, `-` |
| 9 | `<`, `<=`, `>`, `>=`, `in`, `instanceof` |
| 10 | `==`, `!=`, `===`, `!==` |
| 11 | `??` |
| 12 | `&&` |
| 13 | `\|\|` |
| 14 | `? ... : ...` |
| 15 | `=`, `+=`, `-=` 등 |
| 16 | `,` |

> 우선순위가 헷갈리면 **그룹 연산자 `()`로 명시적으로 조절**하는 것이 권장됨

## 7.13 연산자 결합 순서

| 결합 순서 | 연산자 |
|-----------|--------|
| 좌항 → 우항 | `+`, `-`, `/`, `%`, `<`, `<=`, `>`, `>=`, `&&`, `\|\|`, `.`, `[]`, `()`, `??`, `in`, `instanceof` |
| 우항 → 좌항 | `++`, `--`, `=`, `+=`, `-=`, `!`, `+x`, `-x`, `typeof`, `delete`, `? ... : ...`, `**` |
